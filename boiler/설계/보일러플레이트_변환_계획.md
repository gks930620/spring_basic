# ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ë³€í™˜ ê³„íš


## ğŸ“¦ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì£¼ìš” ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| **Spring Security + JWT** | í† í° ê¸°ë°˜ ì¸ì¦, í•„í„° ì²´ì¸ |
| **OAuth2 ì†Œì…œ ë¡œê·¸ì¸** | ì¹´ì¹´ì˜¤, êµ¬ê¸€ ì§€ì› |
| **ê²Œì‹œíŒ (Community)** | CRUD, í˜ì´ì§•, QueryDSL ê²€ìƒ‰ |
| **ëŒ“ê¸€ (Comment)** | ê²Œì‹œê¸€ë³„ ëŒ“ê¸€ ê¸°ëŠ¥ |
| **íŒŒì¼ ì—…ë¡œë“œ** | ë¡œì»¬/Supabase ì „ëµ íŒ¨í„´ |
| **API í‘œì¤€ ì‘ë‹µ** | ApiResponse, PageResponse |
| **ì˜ˆì™¸ ì²˜ë¦¬** | GlobalExceptionHandler |
| **Swagger ë¬¸ì„œ** | /swagger-ui.html |
| **Actuator ëª¨ë‹ˆí„°ë§** | /actuator/health |
| **Docker ì§€ì›** | Dockerfile ì œê³µ |
| **ë¡œê·¸ ì„¤ì •** | Logback ì¼ë³„ ë¡¤ë§, ì—ëŸ¬ ë¶„ë¦¬ |
| **í™˜ê²½ ë¶„ë¦¬** | application.yml (ê°œë°œ) / application-prod.yml (ìš´ì˜) |

---

## ğŸ“ ë¡œê·¸ ì„¤ì • (logback-spring.xml)

| í•­ëª© | ì„¤ëª… |
|------|------|
| **ì½˜ì†” ì¶œë ¥** | ê°œë°œ ì‹œ ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸ |
| **íŒŒì¼ ì¶œë ¥** | `logs/application.log` - ì¼ë³„ ë¡¤ë§ |
| **ì—ëŸ¬ ë¡œê·¸ ë¶„ë¦¬** | `logs/error.log` - ERROR ë ˆë²¨ë§Œ ë³„ë„ ì €ì¥ |
| **ë³´ê´€ ê¸°ê°„** | 30ì¼ |
| **ìš©ëŸ‰ ì œí•œ** | ì „ì²´ 1GB, ì—ëŸ¬ 500MB |

```xml
<!-- ì£¼ìš” ë¡œê±° ë ˆë²¨ ì„¤ì • -->
<logger name="com.doll.gacha" level="DEBUG"/>
<logger name="org.springframework.security" level="DEBUG"/>
<logger name="org.hibernate.SQL" level="DEBUG"/>
```

---

## ğŸ”€ í™˜ê²½ ë¶„ë¦¬ (Profile)

### ê°œë°œ í™˜ê²½ (application.yml - ê¸°ë³¸)
```yaml
spring:
  jpa:
    hibernate:
      ddl-auto: create          # ê°œë°œ: í…Œì´ë¸” ìë™ ìƒì„±
  sql:
    init:
      mode: always              # ê°œë°œ: SQL ì´ˆê¸°í™” ì‹¤í–‰
  devtools:
    restart:
      enabled: true             # ê°œë°œ: í•« ë¦¬ë¡œë“œ
app:
  cookie:
    secure: false               # ê°œë°œ: HTTP í—ˆìš©
supabase:
  enabled: false                # ê°œë°œ: ë¡œì»¬ íŒŒì¼ ì €ì¥
```

### ìš´ì˜ í™˜ê²½ (application-prod.yml)
```yaml
spring:
  jpa:
    hibernate:
      ddl-auto: update          # ìš´ì˜: ìŠ¤í‚¤ë§ˆ ì—…ë°ì´íŠ¸ë§Œ
  sql:
    init:
      mode: never               # ìš´ì˜: SQL ì´ˆê¸°í™” ë¹„í™œì„±í™”
  devtools:
    restart:
      enabled: false            # ìš´ì˜: í•« ë¦¬ë¡œë“œ ë¹„í™œì„±í™”
app:
  cookie:
    secure: true                # ìš´ì˜: HTTPS í•„ìˆ˜
supabase:
  enabled: true                 # ìš´ì˜: í´ë¼ìš°ë“œ íŒŒì¼ ì €ì¥
```

### í”„ë¡œíŒŒì¼ ì‹¤í–‰ ë°©ë²•
```bash
# ê°œë°œ í™˜ê²½ (ê¸°ë³¸)
./gradlew bootRun

# ìš´ì˜ í™˜ê²½
./gradlew bootRun --args='--spring.profiles.active=prod'

# ë˜ëŠ” í™˜ê²½ë³€ìˆ˜
SPRING_PROFILES_ACTIVE=prod java -jar app.jar
```

---

## ğŸš€ ì‚¬ìš© ë°©ë²•

### 1. í”„ë¡œì íŠ¸ í´ë¡  ë° ì„¤ì •

```bash
# í´ë¡ 
git clone <repository-url>
cd boiler_from_doll
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (.env íŒŒì¼ ìƒì„±)

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `.env` íŒŒì¼ ìƒì„±:

```env
# OAuth2 - ì¹´ì¹´ì˜¤
KAKAO_CLIENT_ID=your_kakao_rest_api_key
KAKAO_CLIENT_SECRET=your_kakao_client_secret

# OAuth2 - êµ¬ê¸€
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# JWT
JWT_SECRET_KEY=your_jwt_secret_key_min_32_characters_long

# Supabase (ìš´ì˜ í™˜ê²½ìš©, ì„ íƒ)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

`application.yml` ìˆ˜ì •:

```yaml
spring:
  datasource:
    url: jdbc:mariadb://localhost:3306/your_database
    username: your_username
    password: your_password
```

### 4. ì‹¤í–‰

```bash
# MariaDB ì‹¤í–‰ (Docker ì‚¬ìš© ì‹œ)
docker run -d -p 3306:3306 --name mariadb \
  -e MYSQL_ROOT_PASSWORD=root \
  -e MYSQL_DATABASE=your_database \
  -e MYSQL_USER=your_username \
  -e MYSQL_PASSWORD=your_password \
  mariadb:10.11

# ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
./gradlew bootRun

# ë¸Œë¼ìš°ì € ì ‘ì†
http://localhost:8080
```

### 5. ì£¼ìš” URL

| URL | ì„¤ëª… |
|-----|------|
| http://localhost:8080 | ë©”ì¸ í˜ì´ì§€ |
| http://localhost:8080/swagger-ui.html | API ë¬¸ì„œ |
| http://localhost:8080/actuator/health | ì„œë²„ ìƒíƒœ |
| http://localhost:8080/login | ë¡œê·¸ì¸ |
| http://localhost:8080/community | ì»¤ë®¤ë‹ˆí‹° |

---
